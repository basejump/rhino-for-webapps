<html>
    <head>
        <title>Rhino 4 Web Browser: Request Details</title>
    </head>
    <body>
        <div>
            <h1>Request Details</h1>
            <p id="currentDate"></p>
            <div >
                <h2>Request URL details</h2>
                <ul id="requestDetails"></ul>
            </div>
            <div>
                <h2>Request Parameters</h2>
                <ul id="requestParams"></ul>
            </div>
            <div>
                <h2>Request Headers</h2>
                <ul id='requestHeaders'></ul>
            </div>
            <div>
                <h2>Prefered Locales</h2>
                <ul id="requestLocales"></ul>
            </div>
            <div>
                <h2>Request Attributes</h2>
                <ul id="requestAttributes"></ul>
            </div>
        </div>
        <script type="text/envjs">
            var detail = function (id,obj,name){
                var prop, list = document.getElementById(id);
                for(prop in obj){
                    var list_item = document.createElement('li');
                    var item_text = document.createTextNode(prop+" -> "+obj[prop]);
                    list_item.appendChild(item_text);
                    list.appendChild(list_item);
                }
            };
            detail('requestDetails', request, "Details");
            detail('requestParams',  request.parameters, "Parameters");
            detail('requestHeaders',  request.headers, "Headers");
            detail('requestParams',  request.locales, "Locales");
            detail('requestAttributes',  request.attributes, "Attributes");
            
            var currentDate = document.createTextNode('The current time is : '+ new Date());
            document.getElementById('currentDate').appendChild(currentDate);
        </script>
    </body> 
</html>
